<div class="card p-4 shadow-sm">

    <div class="mb-3">
        <label class="form-label">Usuario</label>
        <input id="usuarioLogin" class="form-control" />
    </div>

    <div class="mb-3">
        <label class="form-label">Contraseña</label>
        <input id="password" type="password" class="form-control" />
    </div>

    <button class="btn btn-primary" onclick="login()">Ingresar</button>
</div>

@section Scripts{
    <script>
        function login() {
            const data = {
                usuarioLogin: document.getElementById("usuarioLogin").value,
                password: document.getElementById("password").value
            };
            fetch('/Auth/Login', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(data)
            })
            .then(r => r.json())
            .then(res => {
                if (res.success) {
                    // ✅ Redirigir al usuario a la página principal
                    window.location.href = '/';
                } else {
                    mostrarToast(res.message || 'Error al iniciar sesión', 'danger');
                }
            })
            .catch(err => {
                console.error('Error:', err);
                mostrarToast('Error en la solicitud de inicio de sesión', 'danger');
            });
        }
    </script>
}